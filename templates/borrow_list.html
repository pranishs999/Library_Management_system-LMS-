{% extends 'index.html' %}

{% block content %}
<div class="max-w-3xl mx-auto mt-6">
    <h2 class="text-base font-semibold mb-3 text-blue-700">Borrow Records</h2>
    <div class="bg-white border border-gray-200 rounded shadow-sm overflow-hidden">
        <div class="flex font-semibold bg-gray-100 px-2 py-1 text-gray-700 text-xs uppercase tracking-wide">
            <div class="flex-1">Patron</div>
            <div class="flex-1">Book</div>
            <div class="flex-1">Borrow Date</div>
            <div class="flex-1">Return Date</div>
            <div class="flex-1 text-center">Actions</div>
        </div>
        {% for borrow in borrows %}
        <div class="flex border-t px-2 py-1 items-center hover:bg-blue-50 transition">
            <div class="flex-1 truncate">{{ borrow.patron }}</div>
            <div class="flex-1 truncate">{{ borrow.book.title }}</div>
            <div class="flex-1 truncate">{{ borrow.borrow_date }}</div>
            <div class="flex-1 truncate">{{ borrow.return_date|default:"Not Returned" }}</div>
            <div class="flex-1 flex justify-center space-x-2">
                <a href="{% url 'edit_borrow' borrow.pk %}" class="px-2 py-0.5 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition text-xs font-medium">Edit</a>
                <a href="{% url 'delete_borrow' borrow.pk %}" class="px-2 py-0.5 bg-red-100 text-red-700 rounded hover:bg-red-200 transition text-xs font-medium">Delete</a>
            </div>
        </div>
        {% empty %}
        <div class="px-2 py-4 text-center text-gray-400 text-xs">No borrow records found.</div>
        {% endfor %}
    </div>
</div>
{% endblock %}