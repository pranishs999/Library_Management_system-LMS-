{% extends 'index.html' %}

{% block content %}
<div class="max-w-3xl mx-auto mt-8">
    <h2 class="text-base font-bold mb-4">Dashboard</h2>
    <div class="bg-white border border-gray-200 rounded shadow-sm p-4 mb-4">
        <div class="flex flex-wrap gap-4 text-xs">
            <span>Total Books: <span class="font-semibold">{{ total_books }}</span></span>
            <span>Total Patrons: <span class="font-semibold">{{ total_patrons }}</span></span>
        </div>
    </div>
    <h3 class="text-sm font-semibold mb-2">Currently Borrowed Books:</h3>
    <div class="bg-white border border-gray-200 rounded shadow-sm">
        <div class="flex font-semibold bg-gray-100 px-2 py-1 text-xs">
            <div class="flex-1">Patron</div>
            <div class="flex-1">Book</div>
            <div class="flex-1">Borrow Date</div>
        </div>
        {% for borrow in borrowed_books %}
        <div class="flex border-t px-2 py-1">
            <div class="flex-1 truncate">{{ borrow.patron.first_name }} {{ borrow.patron.last_name }}</div>
            <div class="flex-1 truncate">{{ borrow.book.title }}</div>
            <div class="flex-1 truncate">{{ borrow.borrow_date }}</div>
        </div>
        {% empty %}
        <div class="px-2 py-4 text-center text-gray-400 text-xs">No borrowed books.</div>
        {% endfor %}
    </div>
</div>
{% endblock %}